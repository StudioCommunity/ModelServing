name: Score for Deep Learning Models
id: 412abbd1-794f-4888-a72f-a16220b9a521
category: Machine Learning\Score
description: Buildin Score Module for a set of limited flavors
inputs:
- name: Trained model
  type: ModelFolder
  port: true
  description: Trained predictive model
- name: Dataset
  type: AnyDirectory
  port: True
  description: input data to score
- name: Append score columns to output
  type: Boolean
  default: true
  description: If checked, append score columns to the result dataset, otherwise only
    return the scores and true labels if available.
outputs:
- name: Scored dataset
  type: TabularDataFolder
  description: Dataset with obtained scores
implementation:
  container:
    runConfig:
      baseDockerImage: mcr.microsoft.com/azureml/base-gpu:intelmpi2018.3-cuda10.0-cudnn7-ubuntu16.04
      gpuSupport: true
    conda:
      name: project_environment
      channels:
      - defaults
      dependencies:
      - python=3.6.8
      - conda
      - pip:
        # Remove extra-index-url because register tool automatically add that
        - azureml-designer-model==0.1.20191125.8
        - azureml-designer-score==0.1.20191125.8
        - azureml-designer-core==0.0.25
        - cloudpickle
        - PyYAML
        - unidecode 
        - inflect
    command:
    - python
    - -m
    - azureml.designer.score.score.module_invoker
    args:
    - --trained-model
    - inputValue: Trained model
    - --dataset
    - inputValue: Dataset
    - --append-score-columns-to-output
    - inputValue: Append score columns to output
    - --scored-dataset
    - outputPath: Scored dataset
  invoking:
    module: azureml.designer.score.score.builtin_score_module
    class: BuiltinScoreModule
    func: run
